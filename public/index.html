<!DOCTYPE html>
<html ng-app="app">
	<head>
	  <script src="//code.jquery.com/jquery.min.js"></script>
	  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
	  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
	  <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.js"></script>	
	  <meta charset="utf-8">
		
	  <link rel="stylesheet" href="app.css">
	  <script src="app.js"></script>
	  <title>IoT</title>
	</head>
<body ng-controller="AppController as app">

	<br>
	  <div class="container">
		


		
		
		
		<nav class="navbar navbar-default">
		  <div class="container-fluid">
		    <div class="navbar-header">
		      <a class="navbar-brand" href="index.html">
		        {{app.name}}
		      </a>
		    </div>
		    <form class="navbar-form navbar-left" role="search">
			  <div class="form-group">
			    <input type="text" class="form-control" placeholder="Search by id" ng-model="app.search" >
			  </div>
			  <button type="submit" class="btn btn-default" ng-click="app.se()">Submit</button>
			</form>
			<button class="log btn btn-default" ng-click="app.toLog()">Login</button>
			<button class="log btn btn-default" ng-click="app.toRegister()">Register</button>
		  </div>
		</nav>
		    
			
	
		<div class="col-sm-4">
				<form ng-submit="app.submit(input)">
					
				  <div class="form-group">
				    <label>IoT ID</label>
				    <input type="text" ng-model="input.iot_id" class="form-control" placeholder="IoT ID" required>
				  </div>
				  <div class="form-group">
				    <label >Temperature</label>
				    <input type="text" ng-model="input.temperature" class="form-control" placeholder="Temperature" required>
				  </div>
				  <div class="form-group">
				    <label >Relative Humidity</label>
				    <input type="text" ng-model="input.relative_humidity" class="form-control" placeholder="Relative Humidity" required>

				  </div>
				  <button type="submit" class="btn btn-success glyphicon glyphicon-plus">Add</button>
		</form>
		<br>
		<button type="submit" class="btn btn-info " ng-click="app.report()">View Report</button>
		</div>

			
			<table>
				<thead>
			      <tr>
			        <th class="col-sm-1">No.</th>
			        <th class="col-sm-1">IoT ID</th>
			        <th class="col-sm-1">Temperature</th>
				    <th class="col-sm-2">Relative Humidity</th>
				    <th class="col-sm-1">Date</th>
			         <th class="col-sm-2">Delete</th>

			      </tr>
			    </thead>
			    <tbody>
			    	<tr ng-repeat="data in app.d">
			    		<td class="col-sm-1">{{$index}}</td>
				  		<td class="col-sm-1">{{data.iot_id}}</td>
				  		<td class="col-sm-1">{{data.temperature}}</td>
				  		
				  		<td class="col-sm-1">{{data.relative_humidity}}</td>
				  		<td class="col-sm-4">{{app.toThaiDateTime(data.timestamp)}}</td>
				  		<td class="col-sm-1"><button class="btn btn-danger glyphicon glyphicon-trash " ng-click="app.delete(data._id,$index)"></button></td>	
				  	</tr>
			    </tbody>
			  </table>
			</div>
			
						


</body>
</html>